export EDITOR="mate -w"

function parse_git_dirty {
  git diff --quiet 2> /dev/null || echo "*"
}

function parse_git_branch {
  git branch --no-color 2> /dev/null | sed -e '/^[^*]/d' -e "s/* \(.*\)/[\1$(parse_git_dirty)]/"
}

case "$TERM" in
xterm-color)
    PS1='\[\033[01;32m\]\w\[\033[00m\]$(parse_git_branch)\[\033[00m\]';;
*)
    PS1='\w$(parse_git_branch)';;
esac

case `/usr/bin/whoami` in
root)
  PS1="$PS1# ";;
*)
  PS1="$PS1% ";;
esac
